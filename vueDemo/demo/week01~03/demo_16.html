<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>vue基础示例16</title>
	</head>
	<body>
		<div id="app">
			<loading ref="load"></loading>
		</div>
		<!-- 等待子组件加载完后才加载父组件  子组件mounted 是异步操作  所以父组件取不带这里的
			改变  所以这想操作dom 先执行nextTick()  组件要操作dom前最好都要有nextTick
		-->
		<script src="../../js/vue.js"></script>
		<script>
			//
			let loading = {
				data(){
					return {flag:true}
				},
				template:'<div v-show="flag">加载中...</div>',
				methods:{
					hide(){
						this.flag = false;
					}
				}
			}
			let vm = new Vue({
				el : '#app',
				components:{
					loading
				},
				mounted(){//ref 如果是在组件上 获取到的是组件的实例 不是dom元素
					debugger
					this.$refs.load.hide();
				}
			});
		</script>
	</body>
</html>
