**基于vue3.0的水库物业化手机端**</br>
　　[手机端git地址](http://git.istrongcloud.net/dev4/0000000/common-business-proj/pipal-proj)</br>
　　[线上文档](http://122.112.238.229:9912/v/studio/dev/web/home)</br>
　　[访问例子](http://localhost:9000/v/mobile/views/patrol/patrol-record)</br>
　　打包文件位置:module.local.json  打包路径:"mobile/patrol/patrol-record"</br>
**css规范**</br>
　　1.所有 classname 都以模块名做前缀</br>
　　2.避免直接使用标签选择器</br>
　　3.采用kebab-case命名法,最少以两个单词命名</br>
　　4.避免选择器嵌套层级过多，尽量少于 3 级</br>
**html规范**</br>
　　1. 要避免多层嵌套，能用一个标签实现的就不要用两个标签。</br>
　　2. a元素里不可以嵌套交互式元素(<a>、<button>、<select>等)</br>
**javascript规范**</br>
　　1.变量名和函数的命名使用小写驼峰法</br>
　　2.全局常量为大写</br>
　　3.私有属性、私有变量和私有方法以下划线`_`开头</br>
　　4.类的命名使用大写驼峰法(`PascalCase`)</br>
　　5.枚举变量使用大写驼峰法(`PascalCase`)</br>
　　6.事件名称采用`kebab-case`命名法，并前置所属模块，后置事件类型</br>
　　7.boolean 类型的变量尽量以`is`/`has`开头。或者用`able`/`ed`结尾。（如`isOpened`,`hasItems`,`checked`,`editable`）</br>
　　8.用于取值和赋值的函数以`get`/`set`为前缀</br>
　　9.`forloop`遍历数组时，缓存数组长度</br>
　　10.采用`amd`模块化方式异步加载第三方内容</br>
　　11.减少动画使用，使用后记得销毁</br>
　　12.对引用使用 `const`</br>
　　13.用`{}`替代`new Object()`</br>
　　14.使用 === 和 !== 优先于 == 和 !=</br>
　　15.不要在 Array 上使用 `for-in` 循环</br>
　　16.尽量用`switch`替代`if`</br>
　　17.建议用2个空格缩进</br>
**npm包规范**</br>
　　1.包名采用`kebab-case`命名</br>
　　2.业务模块不要太多级，最多四级，第四级采用扁平化的方式新增文件夹</br>
　　3.版本号命名遵守 Semver 语义化版本 2.0 的规则</br>
　　4.组件的版本以 major.minor.patch 形式表示 主版本号.次版本号.修订号 比如： 0.1.0 0.3.1</br>
　　　　主版本号：不兼容的 API 修改</br>
　　　　次版本号：向下兼容的功能性新增</br>
　　　　修订号：向下兼容的问题修正</br>
**typescript规范**</br>
　　1.不要使用`I`做为接口名前缀
　　2.一个类型声明文件对应一个逻辑对象
　　3.不使用`any`
　　4.不要使用如下类型`Number`，`String`，`Boolean`或`Object`。这些类型指的是非原始的装盒对象
　　5.不要因为回调函数参数个数不同而写不同的重载
　　6.尽可能地使用联合类型
　　7.不建议使用["xx"]，不管是获取对象，还是避免类型推断
　　8.尽量不声明为`any`、`as any`
**vue规范**</br>
　　1.不要在组件的props定义key,class,style
　　2.不要在观察属性data中设置复杂的、有自己状态的属性，不用通过直接通过ref、reactive直接设置这种对象为响应式
　　3.不要改变组件的props变量
　　4.子组件v-model不能接受一个props变量
　　5.template上的dom事件监听的方法不能为空，否则第一次渲染可能是正常的，但后续的数据渲染会失败
　　6.一般情况下不声明全局变量，不使用全局样式，不将变量不注入vue组件原型链中
　　7.一个模块一个文件夹，每个文件夹下有`index.ts`文件抛出模块对象
　　8.模块所有关联的资源（非共用）都放在自己的文件夹下面
　　9.保留关键字：
　　　　anchor：锚点，组件再定位
　　　　theme：主题
　　　　suspend ： 模块挂起
　　　　resume ： 模块重启
　　　　updateMap：地图图元叠加
**vue3.0新增**</br>
在vue3的script中不再使用data和methods，而是使用setup()方法
ref，computed 等都是属于composition API
```typescript
<script lang="ts">
import { ref, computed } from "vue";

export default ({

  name: 'App',
  setup() {
    const count = ref(0)    // ref 接受一个参数，返回的是一个响应式对象
    const double = computed(() => {
      return count.value * 2
    })
    const increase = () => {
      count.value ++    // count是对象，这样才能获取到值
    }
    return {
      count,
      double,
      increase  // 这里返回的值可以直接在template中使用
    }
  }
});
</script>
```
生命周期的钩子  在使用前必须导入
```typescript
import { onMounted, onUpdated } from 'vue'
export default {
  setup() {
    onMounted(() => {
      // ... 
    })
    onUpdated(() => {
      // ... 
    })
  }
}
```
Watch监听
```typescript
import { watch } from 'vue'
export default {
  setup() {
    watch(data, (newValue, oldValue) => {
        // ...
    })
  }
}
```
setup的参数
```typescript
setup(props, {slots,attrs,emit})
```
路由`const router = T.router.currentRoute`
[参考地址](https://blog.csdn.net/qq_24182885/article/details/105841669)

打包路径
```
"mobile/base-info/reservoir/manage", // 水库管理
"mobile/base-info/reservoir/responsible", // 水库责任人
"mobile/patrol/feedback" // 水库问题反馈
"mobile/maintain/curing" // 水库维修养护
"mobile/maintain/curing-record" // 维修养护列表
"mobile/maintain/curing-detail" // 养护详情
```
















